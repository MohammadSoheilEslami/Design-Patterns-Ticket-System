# Design-Patterns-Ticket-System

# بازآرایی سیستم مدیریت درخواست‌های پشتیبانی (Ticket Service Refactoring)

این پروژه، پیاده‌سازی تمرین شماره ۲ درس **طراحی شی‌گرای سیستم‌ها** است. هدف اصلی این پروژه، بازآرایی (Refactoring) یک سیستم مدیریت تیکت قدیمی با استفاده از **الگوهای طراحی (Design Patterns)** استاندارد جهت بهبود ساختار، خوانایی و رعایت اصول SOLID بوده است.

## ۱. صورت مسئله و راهکارها
در بررسی کد اولیه، دو چالش اصلی در طراحی مشاهده شد که منجر به پیچیدگی و وابستگی بالا (High Coupling) شده بود. برای رفع این موارد، الگوهای زیر اعمال گردید:

### الف) مدیریت چرخه حیات تیکت (State Pattern)
* **چالش:** منطق تغییر وضعیت تیکت (از `New` به `Assigned` و غیره) با استفاده از شرط‌های تودرتو (`if-else`) در کلاس اصلی پیاده‌سازی شده بود. این موضوع باعث نقض اصل «تک‌مسئولیتی» شده و توسعه وضعیت‌های جدید را دشوار می‌کرد.
* **راهکار:** استفاده از **الگوی State**.
* **شرح پیاده‌سازی:** * تعریف اینترفیس `TicketState` برای انتزاع مفهوم وضعیت.
    * انتقال منطق هر مرحله به کلاس‌های اختصاصی (`NewState`, `AssignedState`, `InProgressState`, ...).
    * کلاس `TicketService` اکنون تنها وظیفه نگهداری وضعیت فعلی (Context) را بر عهده دارد و تغییر وضعیت‌ها به صورت شی‌گرا انجام می‌شود.

### ب) مدیریت استراتژی پاسخ‌دهی (Strategy Pattern)
* **چالش:** نحوه ارجاع و پاسخ‌دهی به تیکت‌ها وابسته به نوع آن‌ها (مانند `BUG` یا عادی) بود. این منطق شرطی در لابه‌لای کدهای تغییر وضعیت پراکنده شده بود.
* **راهکار:** استفاده از **الگوی Strategy**.
* **شرح پیاده‌سازی:**
    * تعریف اینترفیس `ResponseStrategy` برای استانداردسازی نحوه پاسخ‌دهی.
    * جداسازی منطق ارجاع به مهندسی (`BugResponseStrategy`) و ارجاع به پشتیبانی (`GenericResponseStrategy`).
    * تعیین استراتژی مناسب در زمان ایجاد تیکت، که باعث حذف شرط‌های تکراری در طول فرآیند شد.

---

## ۲. ساختار کلاس‌ها (Architecture)
پس از بازآرایی، ساختار پروژه به شرح زیر سازماندهی شد:
* **Context:** کلاس `TicketService` (مدیریت‌کننده درخواست‌ها).
* **State Interface:** `TicketState`.
* **Concrete States:** کلاس‌های پیاده‌سازی کننده مراحل مختلف تیکت.
* **Strategy Interface:** `ResponseStrategy`.
* **Concrete Strategies:** کلاس‌های پیاده‌سازی کننده انواع پاسخ‌دهی.

---

## ۳. تحلیل شی‌گرا و اصول SOLID
طبق خواسته تمرین (بخش ۴)، سیستم بازآرایی شده از منظر اصول مهندسی نرم‌افزار بهبود یافته است:

1.  **اصل تک‌مسئولیتی (SRP):** هر کلاس اکنون تنها یک دلیل برای تغییر دارد. کلاس‌های `State` فقط نگران تغییر وضعیت هستند و کلاس‌های `Strategy` فقط نگران نحوه پاسخ‌دهی.
2.  **اصل باز/بسته (OCP):** سیستم نسبت به تغییرات بسته و نسبت به توسعه باز است. برای اضافه کردن یک نوع تیکت جدید یا یک وضعیت جدید، نیازی به تغییر کدهای قبلی نیست و صرفاً کلاس جدیدی اضافه می‌شود.
3.  **اصل جایگزینی لیسکوف (LSP):** تمامی زیرکلاس‌های وضعیت و استراتژی رفتار صحیح اینترفیس والد را پیاده‌سازی کرده و قابل جایگزینی هستند.

---

## ۴. راهنمای اجرا
برای اجرای سناریوی تست:
1. پروژه را در محیط IDE (مانند VS Code یا IntelliJ) باز کنید.
2. فایل `Main.java` را اجرا نمایید.
3. خروجی کنسول، چرخه کامل حیات یک تیکت و نحوه تعامل پویا با استراتژی‌ها را نمایش می‌دهد.

---
**تیم توسعه:**
* **عضو ۱:** [محمد سهیل اسلامی] (پیاده‌سازی الگوی State و ساختار پایه)
* **عضو ۲:** [امیر مهدی سعیدی] (پیاده‌سازی الگوی Strategy و منطق پاسخ‌دهی)